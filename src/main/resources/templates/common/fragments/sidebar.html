<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<div th:fragment="sidebarFragment">
    <div class="bg-white w-64 h-full flex flex-col">
        <!-- 로고 영역 -->
        <div class="p-6 border-b border-gray-200">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                    <i data-lucide="layout-dashboard" class="w-5 h-5 text-white"></i>
                </div>
                <span class="text-xl font-bold text-gray-900">Admin</span>
            </div>
        </div>
        
        <!-- 메뉴 영역 -->
        <nav class="flex-1 p-4 space-y-2">
            <!-- 메인 메뉴 -->
            <div class="mb-6">
                <p class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">메인</p>
                <div class="space-y-1">
                    <a href="/home" class="sidebar-menu-item active" data-title="Dashboard">
                        <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
                        <span>대시보드</span>
                    </a>
                    <a href="#" class="sidebar-menu-item" data-title="Analytics">
                        <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
                        <span>분석</span>
                    </a>
                </div>
            </div>
            
            <!-- 사용자 관리 -->
            <div class="mb-6">
                <p class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">사용자</p>
                <div class="space-y-1">
                    <a href="#" class="sidebar-menu-item" data-title="Users">
                        <i data-lucide="users" class="w-5 h-5"></i>
                        <span>사용자 관리</span>
                    </a>
                    <a href="#" class="sidebar-menu-item" data-title="Roles">
                        <i data-lucide="shield" class="w-5 h-5"></i>
                        <span>권한 관리</span>
                    </a>
                </div>
            </div>
            
            <!-- 시스템 -->
            <div class="mb-6">
                <p class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">시스템</p>
                <div class="space-y-1">
                    <a href="#" class="sidebar-menu-item" data-title="Settings">
                        <i data-lucide="settings" class="w-5 h-5"></i>
                        <span>설정</span>
                    </a>
                    <a href="#" class="sidebar-menu-item" data-title="Logs">
                        <i data-lucide="file-text" class="w-5 h-5"></i>
                        <span>로그</span>
                    </a>
                </div>
            </div>
        </nav>
        
        <!-- 하단 정보 -->
        <div class="p-4 border-t border-gray-200">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center">
                    <i data-lucide="help-circle" class="w-4 h-4 text-gray-600"></i>
                </div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-gray-900">도움말</p>
                    <p class="text-xs text-gray-500">v1.0.0</p>
                </div>
            </div>
        </div>
    </div>
    
    <style>
        .sidebar-menu-item {
            @apply flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors;
        }
        .sidebar-menu-item.active {
            @apply bg-primary/10 text-primary;
        }
        .sidebar-menu-item i {
            @apply flex-shrink-0;
        }
    </style>
    
    <script>
        // 사이드바 메뉴 클릭 이벤트
        document.addEventListener('DOMContentLoaded', function() {
            const menuItems = document.querySelectorAll('.sidebar-menu-item');
            
            menuItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 모든 메뉴 아이템에서 active 클래스 제거
                    menuItems.forEach(menu => menu.classList.remove('active'));
                    
                    // 클릭한 메뉴에 active 클래스 추가
                    this.classList.add('active');
                    
                    // 페이지 제목 변경
                    const title = this.getAttribute('data-title');
                    if (title && typeof setPageTitle === 'function') {
                        setPageTitle(title);
                    }
                });
            });
            
            // Lucide 아이콘 초기화
            lucide.createIcons();
        });
    </script>
</div>
</html>